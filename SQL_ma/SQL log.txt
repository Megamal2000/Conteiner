  IF (NEW.valor <> OLD.valor) THEN
      INSERT INTO TB_LOG01 (DIA, LIGsUSER, NUMNOTA, VANTE, VDEPO, OBS ) VALUES (CURRENT_DATE,0, OLD.NUMNF, OLD.VALOR, NEW.VALOR, 'Valor ALTERA' ) ;   
      
  IF (NEW.Peso <> OLD.Peso) THEN
      INSERT INTO TB_LOG01 (DIA, LIGsUSER, NUMNOTA, VANTE, VDEPO, OBS ) VALUES (CURRENT_DATE,0, OLD.NUMNF, OLD.VALOR, NEW.VALOR, 'Peso ALTERA' ) ;   


CREATE TABLE TB_LOG01 (
  ID IDENTIFICA NOT NULL,
  DIA TIMESTAMP,
  LIGSUSER IDENTIFICA,
  OBS VARCHAR(30) CHARACTER SET WIN1252 COLLATE WIN1252,
  VANTE NUMERIC(12, 2),
  VDEPO NUMERIC(12, 2),
  NUMNOTA INTEGER);


ALTER TABLE TB_LOG01 ADD PRIMARY KEY (ID);


SET TERM ^ ;

CREATE TRIGGER TRI_LOG01 FOR TB_LOG01
ACTIVE BEFORE INSERT
POSITION 2
AS
BEGIN
  /* Trigger body */ 
  /* Trigger body */
  IF (NEW.ID IS NULL) THEN
      NEW.ID = GEN_ID(GEN_LOG01, 1);   
  
END^

SET TERM ; ^